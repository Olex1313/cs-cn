# Учебно-методическое пособие по дисциплине «Вычислительные системы и компьютерные сети»
 - Данная методичка предназначена для студентов, использующих ОС Linux/MacOS
 - Не является исчерпывающим руководством по языку Assembler и архитектуре ВС
 - Цель методички - дать представление об ассемблере и том как он взаимодействует с компьютером
 - Предполагается, что на Unix-подобных ОС, вы пишите на nasm и дебажите в gdb
## Теоретические сведения
Самый низкий уровень программирования – машинный язык (последовательность двоичных кодов машинных команд и операндов). Писать программы с операторами в виде двоичных чисел очень сложно, поэтому во всех машинах предусмотрен язык [ассемблера](https://ru.wikipedia.org/wiki/%D0%90%D1%81%D1%81%D0%B5%D0%BC%D0%B1%D0%BB%D0%B5%D1%80) – символическое представление набора команд, в котором двоичные числа заменены именами команд (мнемониками, наподобие ADD, SUB и MUL) и именами операндов (символьным обозначением ячеек памяти – VAR, string1, регистров – AX, DL, адресов – меток). 
### Полезные статьи по теме
 - [Про разные виды ассемблеров](https://habr.com/ru/post/326078/)
 - [Почему ассемблер это круто, Яндекс, журнал Код](https://thecode.media/assembler/)
 - [Сборник ресурсов для желающих учить asm](https://habr.com/ru/post/131971/)
 - [Туториал, с которого частично списана методичка](https://cs.lmu.edu/~ray/notes/nasmtutorial/)
 
## Переходим к коду
Для того чтобы писать на ассемблере вам нужно установить:
*Если здесь нет вашей ОС, то контрибьютните в инструкцию, облегчите жизнь студентов*
 - компилятор для nasm 
	 - MacOS - `brew install nasm`
	 - Debian\Ubuntu\Mint - `sudo apt install nasm`
 - дебаггер
	 - MacOS M1 - придётся взять [lldb](https://lldb.llvm.org) `brew install lldb`
	 - MacOs - `brew install gdb`
	 - Debian\Ubuntu\Mint - `sudo apt install gdb`
 - objdump - посмотреть машинный код полученного бинаря
	 - MacOS `brew install objdump` - если у вас его уже нет
	 - Debian\Ubuntu\Mint - `sudo apt install objdump`
 - линкер - скорее всего у вас есть `ld`, если вдруг нет, то установите через пакетный менеджер

### Как написать Hello world
#### MacOS
```
; ----------------------------------------------------------------------------------------.
; 	Запуск: nasm -fmacho64 hello.asm && ld hello.o && ./a.out
; ----------------------------------------------------------------------------------------

global    start

section   .text
start:    
mov       rax, 0x02000004         ; Системный вызов write
mov       rdi, 1                  ; Файловый дескриптор для stdout
mov       rsi, message            ; Адрес в котором лежит буфер для системного вызова
mov       rdx, 13                 ; Размер буфера в байтах
syscall                           ; Вызываем write
mov       rax, 0x02000001         ; Системный вызов exit
xor       rdi, rdi                ; Очищаем регистр в котором находятся аргументы для вызова
syscall                           ; Вызываем exit

section   .data
message:  db        "Hello, World", 10      ; 10 - код символа перевода строки
```
#### Linux
TODO
